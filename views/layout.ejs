<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="css/style.css?v=2">
  <link rel="stylesheet" href="/css/footer.css">
  <link rel="stylesheet" href="/css/about.css">
  <link rel="stylesheet" href="/css/business.css">
  <link rel="stylesheet" href="/css/contactus.css">
  <link rel="stylesheet" href="/css/news.css">
  <link rel="stylesheet" href="/css/sustainability.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,200,0,0" />
  <!-- Linking Swiper CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">

  <title><%= title %></title>
</head>
<body>
  <!-- Page content here -->
  <%- include("partials/header") %>

  <main>
    <%- body %>
  </main>

  <%- include("partials/footer") %>

  <script>

   const header = document.querySelector('header');
const menuToggle = document.querySelector('.menu-toggle');
const navUl = document.querySelector('nav ul');
 
let scrollTimeout = null;
let lastScroll = 0;
 
// Scroll event
window.addEventListener('scroll', () => {
  const currentScroll = window.scrollY;
 
  // Hide navbar while scrolling
  header.classList.add('hide');
 
  // Background blur after 50px scroll
  if(currentScroll > 50){
    header.classList.add('scrolled');
  } else {
    header.classList.remove('scrolled');
  }
 
  // Clear previous timeout
  clearTimeout(scrollTimeout);
 
  // Show navbar after scrolling stops for 300ms
  scrollTimeout = setTimeout(() => {
    header.classList.remove('hide');
  }, 300);
 
  lastScroll = currentScroll;
});
 
// Mobile menu toggle
menuToggle.addEventListener('click', () => {
  navUl.classList.toggle('show');
});

/*  dropdown menu for desktop */

document.addEventListener('DOMContentLoaded', function(){
  document.querySelectorAll('.dropdown').forEach(function(drop){
    let timeoutId = null;
    drop.addEventListener('mouseenter', function(){
      clearTimeout(timeoutId);
      drop.classList.add('open');
    });
    drop.addEventListener('mouseleave', function(){
      timeoutId = setTimeout(function(){ drop.classList.remove('open'); }, 150);
    });
  });
}); 
</script>

<style>
/* ensure JS-driven state is supported */
.dropdown.open .dropdown-panel { display: block; }
</style>

</script>
</body>
</html>
